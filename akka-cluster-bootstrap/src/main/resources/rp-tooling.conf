akka {
  actor {
    provider = cluster
  }

  cluster {
    http.management {
      hostname = ${?RP_ENDPOINT_AKKA_MGMT_HTTP_BIND_HOST}
      port = ${?RP_ENDPOINT_AKKA_MGMT_HTTP_BIND_PORT}
    }
  }

  discovery {
    method = reactive-lib

    reactive-lib {
      class = com.lightbend.rp.akkaclusterbootstrap.ClusterServiceDiscovery
    }
  }

  extensions += "com.lightbend.rp.akkaclusterbootstrap.ClusterBootstrap"

  remote {
    netty.tcp {
      hostname = ${?RP_ENDPOINT_AKKA_REMOTE_HOST}
      port = ${?RP_ENDPOINT_AKKA_REMOTE_PORT}

      bind-hostname = ${?RP_ENDPOINT_AKKA_REMOTE_BIND_HOST}
      bind-port = ${?RP_ENDPOINT_AKKA_REMOTE_BIND_PORT}
    }
  }
}

# FIXME: Include these only when in a Lagom project. Mechanism TBD.

lagom {
  cluster {
    exit-jvm-when-system-terminated = on
    join-self = off
  }
}
